profile=gpu-hq
vo=gpu-next
gpu-api=vulkan

audio-channels=auto-safe
ao=pipewire
audio-spdif=
pipewire-buffer=native

cache=yes
alsa-resample=no
volume=70
volume-max=200
hwdec=auto-copy
demuxer-max-bytes=250000KiB
demuxer-readahead-secs=60
hidpi-window-scale=no
interpolation=yes

scale=ewa_lanczossharp
scale-blur=0.981251
scale-radius=3.2383154841662362
scale-antiring=0.7
cscale=ewa_lanczos
cscale-antiring=0.7
#cscale-blur=0.981251
tscale=oversample
#tscale=box
#tscale-window=quadric
#tscale-radius=1.0
#tscale-clamp=0.0
#tscale-antiring=0.7
sws-allow-zimg=yes
zimg-fast=no

video-sync=audio
video-sync-max-factor=8

dither-depth=10
dither=ordered

correct-downscaling=yes
sigmoid-upscaling=yes

deband=yes
deband-iterations=4
deband-threshold=48
deband-range=24
deband-grain=0

stop-screensaver=yes
osd-duration=3000
osd-font-size=24
osd-playing-msg='${filename}\n【vo:${current-vo}】\nhwdec:${hwdec-current}\n\n'
osd-msg3='vo:${current-vo} hwdec:${hwdec-current} format:${file-format}\ndisplay-sync=${display-sync-active}\n${estimated-display-fps}=(${vsync-ratio} x ${container-fps}) - drop:${frame-drop-count} - mistimed:${mistimed-frame-count}\n${time-pos} - vol:${volume}\nsync:${total-avsync-change} - delayed=${vo-delayed-frame-count}\n${width} x ${height} - ${display-names}\n ${filename}\n${video-codec} [${video-bitrate}]\nao:${current-ao} ${audio-codec}/${audio-codec-name} (${audio-channels}) [${audio-bitrate}]\n${?current-ao==alsa:audio-device:${audio-device}}\n\n ${track-list}\nvf:${vf}\naf:${af}'

ad-lavc-downmix=no
af=@loudnorm:!lavfi=[loudnorm=I=-17:TP=-3:LRA=4:print_format=summary,aresample=48000:resampler=soxr],@sofa:!lavfi=[sofalizer=sofa=/home/joker/ClubFritz6.sofa:type=freq:gain=1:lfegain=1],@pan:!lavfi=[pan=stereo| FL < FL + 0.5*FC + 0.6*BL + 0.6*SL | FR < FR + 0.5*FC + 0.6*BR + 0.6*SR],@aresample:!lavfi=[aresample=matrix_encoding=dplii:ocl=stereo]
osc=no

image-display-duration=inf

ytdl=yes
ytdl-raw-options=mark-watched=

tone-mapping=bt.2446a

input-ipc-server=/tmp/mpvsocket
hr-seek-framedrop=no
resume-playback=no

[high-fps]
profile-cond=math.floor(container_fps) >= 48
profile-restore=copy-equal
video-sync=audio

[vrr-frame-tripling]
profile-cond= display_names[1] == 'DP-1' and fullscreen and math.floor(container_fps) >= 20 and math.floor(container_fps) < 25
profile-restore=copy-equal
vf-append=@frame-triple:fps=source_fps*3
video-sync=audio

[vrr-frame-doubling]
profile-cond= display_names[1] == 'DP-1' and fullscreen and math.floor(container_fps) >= 25 and math.floor(container_fps) < 48
profile-restore=copy-equal
vf-append=@frame-double:fps=source_fps*2
video-sync=audio

[vrr]
profile-cond= display_names[1] == 'DP-1' and fullscreen and math.floor(container_fps) >= 48
profile-restore=copy-equal
video-sync=audio

[hdr]
target-colorspace-hint=yes
target-contrast=auto
fullscreen=yes

[spdif-passthrough]
profile-desc=SPDIF Passthrough
profile-restore=copy-equal
ao=pulse
audio-spdif=ac3,eac3,dts,dts-hd,truehd

[gui]
terminal=no
force-window=yes
idle=once
keep-open=always

[headphone]
profile=gui
profile-restore=copy-equal
ao=alsa
audio-spdif=
audio-device=alsa/sysdefault:CARD=S820
audio-channels=stereo

[surround-hdmi]
profile-restore=copy-equal
ao=alsa
audio-device=alsa/hdmi:CARD=HDMI,DEV=3
audio-spdif=ac3,eac3,dts,dts-hd,truehd
audio-channels=7.1(alsa),5.1(alsa),stereo

[launcher]
profile=gui

[prof-lavfi-cqt]
profile-restore=copy-equal
#lavfi-complex = "[aid1]asplit[a1][a2];[a1]showcqt=fps=24:axis_h=64:bar_t=0.5:count=6,format=rgba[vcqt];[vid1]scale=w=480*dar:h=480,setsar=1,format=rgba,colorchannelmixer=aa=0.8[v1];[a2]ebur128=video=1:size=640x480:meter=9:target=-16:dualmono=true[vebur][ao];[vebur]format=rgba,colorchannelmixer=aa=0.8[vmeter];[vcqt][v1]overlay=x=main_w-overlay_w-20:y=20:format=auto[ol1];[ol1][vmeter]overlay=x=20:y=20,format=yuv420p[vo]"
lavfi-complex = "[aid1]asplit=4[a1][a2][a3][a4];[a1]showcqt=fps=24:size=1280x720:axis_h=64:bar_t=0.5:count=6,format=rgba[vcqt];[vid1]scale=320*dar:h=320,setsar=1,format=rgba,colorchannelmixer=aa=0.8[v1];[a2]ebur128=video=1:size=640x480:meter=9:target=-16:dualmono=true[vebur][ao];[vebur]scale=h=320:w=-1:flags=neighbor,format=rgba,colorchannelmixer=aa=0.8[vmeter];[a3]showvolume=rate=24:w=100:h=12:b=2:o=v:f=0.1:s=0:p=0.5:ds='log':dm=1:dmc='White':ds='lin':c='if(gt(VOLUME,-6),if(gt(VOLUME,-3),0x8F3C4CE7,0x8F129CF3),0x8FDB9834)',scale=h=320:w=-1:flags=neighbor,format=rgba[vvol];[a4]showwaves=size=320x200:mode='cline':r=24:scale='lin':colors=red|green|blue|yellow|orange|lime|pink|magenta|brown,transpose=1[vwave];color=white:200x320,[vwave]alphamerge,format=rgba,colorchannelmixer=aa=0.8[vwavea];[vcqt][v1]overlay=x=main_w-overlay_w-10:y=10[ol1];[ol1][vmeter]overlay=x=10:y=10[ol2];[ol2][vvol]overlay=x=10:y=380[ol3];[ol3][vwavea]overlay=x=main_w-overlay_w-10:y=380,format=yuv420p[vo]"

[prof-lavfi-clear]
lavfi-complex = "[aid1]anull[ao];[vid1]null[vo]"

